# Query Module Environment Variables

# Application
APP_NAME=query-module
DEBUG=off
HOST=0.0.0.0
PORT=8030

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json  # json или text (json обязательно для production)

# Database (PostgreSQL)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=artstore
DATABASE_PASSWORD=password
DATABASE_DATABASE=artstore
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=off

# PostgreSQL SSL Configuration (optional)
DATABASE_SSL_ENABLED=off                    # Enable SSL for PostgreSQL connection
DATABASE_SSL_MODE=require                     # SSL mode: disable, allow, prefer, require, verify-ca, verify-full
# DATABASE_SSL_CA_CERT=/path/to/ca-cert.pem  # CA certificate (required for verify-ca/verify-full)
# DATABASE_SSL_CLIENT_CERT=/path/to/client-cert.pem  # Client certificate (optional)
# DATABASE_SSL_CLIENT_KEY=/path/to/client-key.pem    # Client key (optional)

# Redis (SYNC режим согласно архитектуре)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=2
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# Cache Settings
CACHE_LOCAL_ENABLED=on
CACHE_LOCAL_TTL=300
CACHE_REDIS_ENABLED=on
CACHE_REDIS_TTL=1800
CACHE_SEARCH_RESULTS=on
CACHE_FILE_METADATA=on

# Search Settings
SEARCH_DEFAULT_LANGUAGE=russian
SEARCH_MAX_RESULTS=100
SEARCH_MIN_QUERY_LENGTH=2

# Download Settings
DOWNLOAD_CONNECT_TIMEOUT=10
DOWNLOAD_READ_TIMEOUT=300
DOWNLOAD_WRITE_TIMEOUT=60
DOWNLOAD_MAX_CONNECTIONS=100
DOWNLOAD_CHUNK_SIZE=8192
DOWNLOAD_ENABLE_RESUME=on

# JWT Authentication (RS256)
AUTH_PUBLIC_KEY_PATH=/app/keys/public_key.pem
AUTH_ALGORITHM=RS256

# CORS
CORS_ORIGINS=["http://localhost:4200", "http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=on
