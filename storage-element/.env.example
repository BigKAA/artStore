# ==========================================
# Storage Element Environment Variables
# ==========================================
# Копируй этот файл в .env и настрой значения

# ==========================================
# Application Settings
# ==========================================
APP_NAME="Storage Element 01"
APP_VERSION="0.1.0"
APP_DEBUG=on
APP_MODE=edit  # edit, rw, ro, ar

# ==========================================
# Server Settings
# ==========================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8010
SERVER_RELOAD=on
SERVER_WORKERS=1

# ==========================================
# Database (PostgreSQL)
# ==========================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=artstore
DB_PASSWORD=password
DB_DATABASE=artstore_storage_01
DB_TABLE_PREFIX=storage_elem_01
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_ECHO=off

# PostgreSQL SSL Configuration (optional)
DB_SSL_ENABLED=off                    # Enable SSL for PostgreSQL connection
DB_SSL_MODE=require                     # SSL mode: disable, allow, prefer, require, verify-ca, verify-full
# DB_SSL_CA_CERT=/path/to/ca-cert.pem  # CA certificate (required for verify-ca/verify-full)
# DB_SSL_CLIENT_CERT=/path/to/client-cert.pem  # Client certificate (optional)
# DB_SSL_CLIENT_KEY=/path/to/client-key.pem    # Client key (optional)

# ==========================================
# Redis Cache
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ==========================================
# JWT Authentication
# ==========================================
JWT_ALGORITHM=RS256
JWT_PUBLIC_KEY_PATH=/path/to/public_key.pem

# ==========================================
# Storage Configuration
# ==========================================
STORAGE_TYPE=local  # local или s3
STORAGE_MAX_FILE_SIZE=1073741824  # 1GB в байтах

# Local Storage
STORAGE_LOCAL_BASE_PATH=./.data/storage

# S3 Storage (если STORAGE_TYPE=s3)
STORAGE_S3_ENDPOINT_URL=http://localhost:9000
STORAGE_S3_ACCESS_KEY=minioadmin
STORAGE_S3_SECRET_KEY=minioadmin
STORAGE_S3_BUCKET_NAME=artstore-storage-01
STORAGE_S3_REGION=us-east-1
STORAGE_S3_USE_SSL=off

# ==========================================
# Logging
# ==========================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json (production) или text (development)
LOG_FILE=  # Путь к файлу лога, пусто для stdout

# ==========================================
# Metrics (Prometheus)
# ==========================================
METRICS_ENABLED=on
METRICS_PATH=/metrics

# ==========================================
# Health Checks
# ==========================================
HEALTH_LIVENESS_PATH=/health/live
HEALTH_READINESS_PATH=/health/ready

# ==========================================
# CORS Settings
# ==========================================
CORS_ALLOW_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=on
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]
