# Настройки сервера
server:
  host: "0.0.0.0"
  port: 8000
  debug: true
  cors_origins: 
    - "http://localhost:3000"
    - "http://localhost:4200"

# База данных
database:
  url: "postgresql+asyncpg://artstore:password@postgres:5432/admin_module"
  user: "artstore"
  user_password: "password"
  pool_size: 10
  max_overflow: 20

# Redis
redis:
  host: "redis"
  port: 6379
  db: 0

# Аутентификация
auth:
  providers: ["local"] # Список провайдеров в порядке опроса: local, ldap, oauth2
  access_token_expire_minutes: 30
  refresh_token_expire_days: 7
  # Пути к ключам RS256
  private_key_path: "admin-module/keys/jwt-private.pem"
  public_key_path: "admin-module/keys/jwt-public.pem"
  # Данные для создания первого суперпользователя
  first_superuser: "admin"
  first_superuser_password: "admin123"

# --- Примеры конфигурации для внешних провайдеров ---
# Раскомментируйте и заполните для использования

# ldap:
#   server_url: "ldap://ldap.example.com"
#   bind_dn: "cn=admin,dc=example,dc=com"
#   bind_password: "ldap_password"
#
#   # Поиск пользователей
#   user_search_base: "ou=users,dc=example,dc=com"
#   user_search_filter: "(uid={username})" # Фильтр для поиска пользователя по логину
#   user_dn_attribute: "dn" # Атрибут, содержащий DN пользователя (для сопоставления с группами)
#
#   # Поиск групп
#   group_search_base: "ou=groups,dc=example,dc=com"
#   group_search_filter: "(objectClass=groupOfUniqueNames)" # Фильтр для поиска всех групп
#   group_member_attribute: "uniqueMember" # Атрибут в записи группы, содержащий DN членов

# oauth2:
#   providers:
#     - name: "google"
#       client_id: "your-google-client-id"
#       client_secret: "your-google-client-secret"
#       discovery_url: "https://accounts.google.com/.well-known/openid-configuration"
#     - name: "github"
#       client_id: "your-github-client-id"
#       client_secret: "your-github-client-secret"
#       authorize_url: "https://github.com/login/oauth/authorize"
#       token_url: "https://github.com/login/oauth/access_token"
#       user_info_url: "https://api.github.com/user"

# Логирование
logging:
  level: "INFO" # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "json" # json, text

