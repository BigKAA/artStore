# Environment Variables для Admin Module
# Скопировать в .env и заполнить реальными значениями
# ВАЖНО: .env должен быть в .gitignore!

# Application
APP_DEBUG=off
APP_HOST=0.0.0.0
APP_PORT=8000

# Database
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=artstore
DB_PASSWORD=password
DB_DATABASE=artstore_admin
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# PostgreSQL SSL Configuration (optional)
DB_SSL_ENABLED=off                    # Enable SSL for PostgreSQL connection
DB_SSL_MODE=require                     # SSL mode: disable, allow, prefer, require, verify-ca, verify-full
# DB_SSL_CA_CERT=/path/to/ca-cert.pem  # CA certificate (required for verify-ca/verify-full)
# DB_SSL_CLIENT_CERT=/path/to/client-cert.pem  # Client certificate (optional)
# DB_SSL_CLIENT_KEY=/path/to/client-key.pem    # Client key (optional)

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT
JWT_ALGORITHM=RS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_PRIVATE_KEY_PATH=.keys/private_key.pem
JWT_PUBLIC_KEY_PATH=.keys/public_key.pem
JWT_KEY_ROTATION_HOURS=24

# CORS
CORS_ENABLED=on
CORS_ALLOW_ORIGINS=http://localhost:4200

# Rate Limiting
RATE_LIMIT_ENABLED=on
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Monitoring
PROMETHEUS_ENABLED=on
OPENTELEMETRY_ENABLED=on
OPENTELEMETRY_SERVICE_NAME=artstore-admin-module
OPENTELEMETRY_EXPORTER_ENDPOINT=

# Service Discovery
SERVICE_DISCOVERY_ENABLED=on
SERVICE_DISCOVERY_REDIS_CHANNEL=artstore:service_discovery
SERVICE_DISCOVERY_PUBLISH_INTERVAL=30

# Saga
SAGA_ENABLED=on
SAGA_TIMEOUT_SECONDS=300
SAGA_RETRY_ATTEMPTS=3

# Scheduler (Background Jobs)
SCHEDULER_ENABLED=on
SCHEDULER_TIMEZONE=UTC
SCHEDULER_JWT_ROTATION_ENABLED=on
SCHEDULER_JWT_ROTATION_INTERVAL_HOURS=24
SCHEDULER_STORAGE_HEALTH_CHECK_ENABLED=on
SCHEDULER_STORAGE_HEALTH_CHECK_INTERVAL_SECONDS=60

# Initial Administrator (created automatically on first startup)
# ВАЖНО: При первом запуске в PRODUCTION окружении ОБЯЗАТЕЛЬНО изменить пароль через environment variable!
INITIAL_ADMIN_ENABLED=on
INITIAL_ADMIN_USERNAME=admin
INITIAL_ADMIN_PASSWORD=ChangeMe123!
INITIAL_ADMIN_EMAIL=admin@artstore.local
INITIAL_ADMIN_FIRSTNAME=System
INITIAL_ADMIN_LASTNAME=Administrator

# Initial Service Account (OAuth 2.0 Client Credentials)
# ВАЖНО: Service Account используется для machine-to-machine аутентификации через OAuth 2.0
# Если INITIAL_ACCOUNT_PASSWORD не задан - будет автоматически сгенерирован и выведен в логи при первом запуске
INITIAL_ACCOUNT_ENABLED=on
INITIAL_ACCOUNT_NAME=admin-service
INITIAL_ACCOUNT_PASSWORD=                # Оставить пустым для автогенерации при первом запуске
INITIAL_ACCOUNT_ROLE=ADMIN               # Доступные роли: ADMIN, USER, AUDITOR, READONLY
